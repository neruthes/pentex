\usepackage{xeCJK,xeCJKfntef}
\usepackage{calc,fontspec,listings,tcolorbox,paralist,enumitem}


\setmainfont{TeX Gyre Schola}
\setromanfont{TeX Gyre Schola}
\setsansfont{TeX Gyre Heros}
\setmonofont{Lab Mono}


% ============================================
% Style settings
% ============================================
\frenchspacing
\linespread{1.1}
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=cyan,
    citecolor=magenta,
}




% ============================================
% Overwrite some default commands
% ============================================
\makeatletter
\renewcommand{\maketitle}[0]{
    \leavevmode
    \vfill
    \vfill
    \begin{center}
        \rmfamily
        \parskip=10pt
        \Large
        \LARGE
        \@title\par\vskip 5pt
        
        % \sffamily
        \normalsize
        \@author\par
        \@date\par
    \end{center}\par
    \vskip 10pt\vfill\vfill
    \hrule
    \vskip 10pt\vfill\vfill
}
\makeatother

\let\oldstdhref\href
\renewcommand{\href}[2]{\oldstdhref{#1}{\textcolor{blue!82!green}{\CJKunderline{#2}}}}

\let\oldstdtableofcontents\tableofcontents
\renewcommand{\tableofcontents}[0]{\oldstdtableofcontents\vfill\clearpage}













% ============================================
% <pre> and <code>
% ============================================
\makeatletter
\renewcommand{\texttt}[1]{%
    \mbox{\textcolor{black!18!red}{\ttfamily#1}}%
}
\renewenvironment{Shaded}{\begingroup\footnotesize\begin{tcolorbox}[colback=black!3!white,colframe=black!25!white,boxrule=0.3pt,arc=0pt,top=2pt,bottom=2pt,left=2pt,right=2pt]}{\end{tcolorbox}\endgroup}
\makeatother
